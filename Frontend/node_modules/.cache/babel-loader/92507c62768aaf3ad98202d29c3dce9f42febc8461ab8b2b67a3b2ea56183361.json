{"ast":null,"code":"import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"w-screen\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = {\n  key: 1\n};\nconst _hoisted_4 = {\n  class: \"min-w-full text-left text-sm font-light\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"thead\", {\n  class: \"border-b bg-white font-medium dark:border-neutral-500 dark:bg-neutral-600\"\n}, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\",\n  class: \"px-6 py-4\"\n}, \"ID\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\",\n  class: \"px-6 py-4\"\n}, \"Title\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\",\n  class: \"px-6 py-4\"\n}, \"Content\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\",\n  class: \"px-6 py-4\"\n}, \"Created\"), /*#__PURE__*/_createElementVNode(\"th\", {\n  scope: \"col\",\n  class: \"px-6 py-4\"\n})])], -1 /* HOISTED */);\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_note_form = _resolveComponent(\"note-form\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$data.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, \"Loading Notes...\")) : (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createVNode(_component_note_form, {\n    onCompleted: $options.addNote,\n    onUpdated: $options.updateNote,\n    noteId: $data.id,\n    noteTitle: $data.title,\n    noteContent: $data.content,\n    editButtonText: $data.buttonText\n  }, null, 8 /* PROPS */, [\"onCompleted\", \"onUpdated\", \"noteId\", \"noteTitle\", \"noteContent\", \"editButtonText\"]), _createElementVNode(\"table\", _hoisted_4, [_hoisted_5, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.notes, note => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: note\n    }, [_createElementVNode(\"td\", null, _toDisplayString(note.id), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(note.title), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(note.content), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(note.created_at), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      class: _normalizeClass([\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 m-2 rounded focus:outline-none focus:shadow-outline\", {\n        'is-loading': $options.isDeleting(note.id)\n      }]),\n      onClick: $event => $options.deleteNote(note.id)\n    }, \"Delete\", 10 /* CLASS, PROPS */, _hoisted_6), _createElementVNode(\"button\", {\n      class: _normalizeClass([\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\", {\n        'is-editing': $options.isEditing(note.id)\n      }]),\n      onClick: $event => $options.editNote(note.id)\n    }, \"Edit\", 10 /* CLASS, PROPS */, _hoisted_7)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]))]);\n}","map":{"version":3,"names":["class","_createElementVNode","scope","_createElementBlock","_hoisted_1","$data","isLoading","_hoisted_2","_hoisted_3","_createVNode","_component_note_form","onCompleted","$options","addNote","onUpdated","updateNote","noteId","id","noteTitle","title","noteContent","content","editButtonText","buttonText","_hoisted_4","_hoisted_5","_Fragment","_renderList","notes","note","key","_toDisplayString","created_at","_normalizeClass","isDeleting","onClick","$event","deleteNote","_hoisted_6","isEditing","editNote","_hoisted_7"],"sources":["/Users/neilclayton/Documents/Dev/laravel/willsuite/frontend-vue/src/components/NotesTable.vue"],"sourcesContent":["<template>\n  <div class=\"w-screen\">\n    <div v-if=\"isLoading\">Loading Notes...</div>\n    <div v-else>\n        <note-form \n            @completed=\"addNote\" \n            @updated=\"updateNote\" \n            :noteId=\"id\" \n            :noteTitle=\"title\" \n            :noteContent=\"content\"\n            :editButtonText=\"buttonText\">\n        </note-form>\n        <table class=\"min-w-full text-left text-sm font-light\">\n            <thead class=\"border-b bg-white font-medium dark:border-neutral-500 dark:bg-neutral-600\">\n                <tr>\n                    <th scope=\"col\" class=\"px-6 py-4\">ID</th>\n                    <th scope=\"col\" class=\"px-6 py-4\">Title</th>\n                    <th scope=\"col\" class=\"px-6 py-4\">Content</th>\n                    <th scope=\"col\" class=\"px-6 py-4\">Created</th>\n                    <th scope=\"col\" class=\"px-6 py-4\"></th>\n                </tr>\n            </thead>\n            <tbody>\n                    <tr v-for=\"note in notes\" :key=\"note\">\n                        <td>{{note.id}}</td>\n                        <td>{{note.title}}</td>\n                        <td>{{note.content}}</td>\n                        <td>{{note.created_at}}</td>\n                        <td>\n                            <button class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 m-2 rounded focus:outline-none focus:shadow-outline\" v-bind:class=\"{'is-loading' : isDeleting(note.id)}\" @click=\"deleteNote(note.id)\">Delete</button>\n                            <button class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\" v-bind:class=\"{'is-editing' : isEditing(note.id) }\" @click=\"editNote(note.id)\">Edit</button>\n                        </td>\n                    </tr>\n            </tbody>\n        </table>\n        \n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { API_BASE_URL } from '@/config';\nimport NoteForm from './NoteForm.vue';\n\nexport default {\n    components: {\n        NoteForm\n    },\n    data() {\n        return {\n            isLoading: true,\n            id: '',\n            title: '',\n            buttonText: 'Add Note',\n            content: '',\n            notes: {}\n        }\n    },\n    async created() {\n        try {\n            const response = await axios.get(API_BASE_URL + '/notes')\n            this.notes = response.data.data\n            this.isLoading = false\n        } catch (e) {\n            //TODO: do something with error \n        }\n    },\n    methods: {\n        addNote(note) {\n            this.notes.push(note)\n        },\n        updateNote(noteUpdate) {\n            let index = this.notes.findIndex(note => note.id === noteUpdate.id)\n            this.notes[index] = noteUpdate\n            console.log('NOTE', noteUpdate)\n        },\n        isDeleting(id) {\n            let index = this.notes.findIndex(note => note.id === id)\n            return this.notes[index].isDeleting\n        },\n        async deleteNote(id) {\n            let index = this.notes.findIndex(note => note.id === id) \n            await axios.delete(API_BASE_URL + '/notes/' + id)\n            this.notes.splice(index, 1)\n        },\n        isEditing(id) {\n            console.log(id)\n        },\n        async editNote(id) {\n            let index = this.notes.findIndex(note => note.id === id);\n            console.log('INDEX', index)\n            try {\n                const response = await axios.get(API_BASE_URL + '/notes/' + id)\n                this.id = response.data.data.id\n                this.title = response.data.data.title\n                this.content = response.data.data.content\n                this.buttonText = \"Edit Note\"\n                \n            } catch (e) {\n                console.log(e)\n            }\n        }\n    }\n}\n</script>\n\n<style>\n\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAU;;;;;;;;EAWRA,KAAK,EAAC;AAAyC;gCAClDC,mBAAA,CAQQ;EARDD,KAAK,EAAC;AAA2E,I,aACpFC,mBAAA,CAMK,a,aALDA,mBAAA,CAAyC;EAArCC,KAAK,EAAC,KAAK;EAACF,KAAK,EAAC;GAAY,IAAE,G,aACpCC,mBAAA,CAA4C;EAAxCC,KAAK,EAAC,KAAK;EAACF,KAAK,EAAC;GAAY,OAAK,G,aACvCC,mBAAA,CAA8C;EAA1CC,KAAK,EAAC,KAAK;EAACF,KAAK,EAAC;GAAY,SAAO,G,aACzCC,mBAAA,CAA8C;EAA1CC,KAAK,EAAC,KAAK;EAACF,KAAK,EAAC;GAAY,SAAO,G,aACzCC,mBAAA,CAAuC;EAAnCC,KAAK,EAAC,KAAK;EAACF,KAAK,EAAC;;;;;;uBAlBxCG,mBAAA,CAoCM,OApCNC,UAoCM,GAnCOC,KAAA,CAAAC,SAAS,I,cAApBH,mBAAA,CAA4C,OAAAI,UAAA,EAAtB,kBAAgB,M,cACtCJ,mBAAA,CAiCM,OAAAK,UAAA,GAhCFC,YAAA,CAOYC,oBAAA;IANPC,WAAS,EAAEC,QAAA,CAAAC,OAAO;IAClBC,SAAO,EAAEF,QAAA,CAAAG,UAAU;IACnBC,MAAM,EAAEX,KAAA,CAAAY,EAAE;IACVC,SAAS,EAAEb,KAAA,CAAAc,KAAK;IAChBC,WAAW,EAAEf,KAAA,CAAAgB,OAAO;IACpBC,cAAc,EAAEjB,KAAA,CAAAkB;iHAErBtB,mBAAA,CAsBQ,SAtBRuB,UAsBQ,GArBJC,UAQQ,EACRxB,mBAAA,CAWQ,iB,kBAVAE,mBAAA,CASKuB,SAAA,QAAAC,WAAA,CATctB,KAAA,CAAAuB,KAAK,EAAbC,IAAI;yBAAf1B,mBAAA,CASK;MATsB2B,GAAG,EAAED;IAAI,IAChC5B,mBAAA,CAAoB,YAAA8B,gBAAA,CAAdF,IAAI,CAACZ,EAAE,kBACbhB,mBAAA,CAAuB,YAAA8B,gBAAA,CAAjBF,IAAI,CAACV,KAAK,kBAChBlB,mBAAA,CAAyB,YAAA8B,gBAAA,CAAnBF,IAAI,CAACR,OAAO,kBAClBpB,mBAAA,CAA4B,YAAA8B,gBAAA,CAAtBF,IAAI,CAACG,UAAU,kBACrB/B,mBAAA,CAGK,aAFDA,mBAAA,CAAiO;MAAzND,KAAK,EAAAiC,eAAA,EAAC,kHAAkH;QAAA,cAA+BrB,QAAA,CAAAsB,UAAU,CAACL,IAAI,CAACZ,EAAE;MAAA;MAAKkB,OAAK,EAAAC,MAAA,IAAExB,QAAA,CAAAyB,UAAU,CAACR,IAAI,CAACZ,EAAE;OAAG,QAAM,yBAAAqB,UAAA,GACxNrC,mBAAA,CAAyN;MAAjND,KAAK,EAAAiC,eAAA,EAAC,8GAA8G;QAAA,cAA+BrB,QAAA,CAAA2B,SAAS,CAACV,IAAI,CAACZ,EAAE;MAAA;MAAMkB,OAAK,EAAAC,MAAA,IAAExB,QAAA,CAAA4B,QAAQ,CAACX,IAAI,CAACZ,EAAE;OAAG,MAAI,yBAAAwB,UAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}