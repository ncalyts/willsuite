{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport { API_BASE_URL } from '@/config';\nimport NoteForm from './NoteForm.vue';\nexport default {\n  components: {\n    NoteForm\n  },\n  data() {\n    return {\n      isLoading: true,\n      id: '',\n      title: '',\n      buttonText: 'Add Note',\n      content: '',\n      notes: {}\n    };\n  },\n  async created() {\n    try {\n      const response = await axios.get(API_BASE_URL + '/notes');\n      this.notes = response.data.data;\n      this.isLoading = false;\n    } catch (e) {\n      //TODO: do something with error \n    }\n  },\n  methods: {\n    addNote(note) {\n      this.notes.push(note);\n    },\n    updateNote(noteUpdate) {\n      let index = this.notes.findIndex(note => note.id === noteUpdate.id);\n      this.notes[index] = noteUpdate;\n      console.log('NOTE', noteUpdate);\n    },\n    isDeleting(id) {\n      let index = this.notes.findIndex(note => note.id === id);\n      return this.notes[index].isDeleting;\n    },\n    async deleteNote(id) {\n      let index = this.notes.findIndex(note => note.id === id);\n      await axios.delete(API_BASE_URL + '/notes/' + id);\n      this.notes.splice(index, 1);\n    },\n    isEditing(id) {\n      console.log(id);\n    },\n    async editNote(id) {\n      let index = this.notes.findIndex(note => note.id === id);\n      console.log('INDEX', index);\n      try {\n        const response = await axios.get(API_BASE_URL + '/notes/' + id);\n        this.id = response.data.data.id;\n        this.title = response.data.data.title;\n        this.content = response.data.data.content;\n        this.buttonText = \"Edit Note\";\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","API_BASE_URL","NoteForm","components","data","isLoading","id","title","buttonText","content","notes","created","response","get","e","methods","addNote","note","push","updateNote","noteUpdate","index","findIndex","console","log","isDeleting","deleteNote","delete","splice","isEditing","editNote"],"sources":["/Users/neilclayton/Documents/Dev/laravel/willsuite/frontend-vue/src/components/NotesTable.vue"],"sourcesContent":["<template>\n  <div class=\"w-screen\">\n    <div v-if=\"isLoading\">Loading Notes...</div>\n    <div v-else>\n        <note-form \n            @completed=\"addNote\" \n            @updated=\"updateNote\" \n            :noteId=\"id\" \n            :noteTitle=\"title\" \n            :noteContent=\"content\"\n            :editButtonText=\"buttonText\">\n        </note-form>\n        <table>\n            <thead>\n                <tr>\n                    <th>ID</th>\n                    <th>Title</th>\n                    <th>Content</th>\n                    <th>Created</th>\n                    <th></th>\n                </tr>\n            </thead>\n            <tbody>\n                    <tr v-for=\"note in notes\" :key=\"note\">\n                        <td>{{note.id}}</td>\n                        <td>{{note.title}}</td>\n                        <td>{{note.content}}</td>\n                        <td>{{note.created_at}}</td>\n                        <td>\n                            <button class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 m-2 rounded focus:outline-none focus:shadow-outline\" v-bind:class=\"{'is-loading' : isDeleting(note.id)}\" @click=\"deleteNote(note.id)\">Delete</button>\n                            <button class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\" v-bind:class=\"{'is-editing' : isEditing(note.id) }\" @click=\"editNote(note.id)\">Edit</button>\n                        </td>\n                    </tr>\n            </tbody>\n        </table>\n        \n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { API_BASE_URL } from '@/config';\nimport NoteForm from './NoteForm.vue';\n\nexport default {\n    components: {\n        NoteForm\n    },\n    data() {\n        return {\n            isLoading: true,\n            id: '',\n            title: '',\n            buttonText: 'Add Note',\n            content: '',\n            notes: {}\n        }\n    },\n    async created() {\n        try {\n            const response = await axios.get(API_BASE_URL + '/notes')\n            this.notes = response.data.data\n            this.isLoading = false\n        } catch (e) {\n            //TODO: do something with error \n        }\n    },\n    methods: {\n        addNote(note) {\n            this.notes.push(note)\n        },\n        updateNote(noteUpdate) {\n            let index = this.notes.findIndex(note => note.id === noteUpdate.id)\n            this.notes[index] = noteUpdate\n            console.log('NOTE', noteUpdate)\n        },\n        isDeleting(id) {\n            let index = this.notes.findIndex(note => note.id === id)\n            return this.notes[index].isDeleting\n        },\n        async deleteNote(id) {\n            let index = this.notes.findIndex(note => note.id === id) \n            await axios.delete(API_BASE_URL + '/notes/' + id)\n            this.notes.splice(index, 1)\n        },\n        isEditing(id) {\n            console.log(id)\n        },\n        async editNote(id) {\n            let index = this.notes.findIndex(note => note.id === id);\n            console.log('INDEX', index)\n            try {\n                const response = await axios.get(API_BASE_URL + '/notes/' + id)\n                this.id = response.data.data.id\n                this.title = response.data.data.title\n                this.content = response.data.data.content\n                this.buttonText = \"Edit Note\"\n                \n            } catch (e) {\n                console.log(e)\n            }\n        }\n    }\n}\n</script>\n\n<style>\n\n</style>"],"mappings":";AAyCA,OAAOA,KAAI,MAAO,OAAM;AACxB,SAASC,YAAW,QAAS,UAAU;AACvC,OAAOC,QAAO,MAAO,gBAAgB;AAErC,eAAe;EACXC,UAAU,EAAE;IACRD;EACJ,CAAC;EACDE,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,SAAS,EAAE,IAAI;MACfC,EAAE,EAAE,EAAE;MACNC,KAAK,EAAE,EAAE;MACTC,UAAU,EAAE,UAAU;MACtBC,OAAO,EAAE,EAAE;MACXC,KAAK,EAAE,CAAC;IACZ;EACJ,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACZ,IAAI;MACA,MAAMC,QAAO,GAAI,MAAMZ,KAAK,CAACa,GAAG,CAACZ,YAAW,GAAI,QAAQ;MACxD,IAAI,CAACS,KAAI,GAAIE,QAAQ,CAACR,IAAI,CAACA,IAAG;MAC9B,IAAI,CAACC,SAAQ,GAAI,KAAI;IACzB,EAAE,OAAOS,CAAC,EAAE;MACR;IAAA;EAER,CAAC;EACDC,OAAO,EAAE;IACLC,OAAOA,CAACC,IAAI,EAAE;MACV,IAAI,CAACP,KAAK,CAACQ,IAAI,CAACD,IAAI;IACxB,CAAC;IACDE,UAAUA,CAACC,UAAU,EAAE;MACnB,IAAIC,KAAI,GAAI,IAAI,CAACX,KAAK,CAACY,SAAS,CAACL,IAAG,IAAKA,IAAI,CAACX,EAAC,KAAMc,UAAU,CAACd,EAAE;MAClE,IAAI,CAACI,KAAK,CAACW,KAAK,IAAID,UAAS;MAC7BG,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEJ,UAAU;IAClC,CAAC;IACDK,UAAUA,CAACnB,EAAE,EAAE;MACX,IAAIe,KAAI,GAAI,IAAI,CAACX,KAAK,CAACY,SAAS,CAACL,IAAG,IAAKA,IAAI,CAACX,EAAC,KAAMA,EAAE;MACvD,OAAO,IAAI,CAACI,KAAK,CAACW,KAAK,CAAC,CAACI,UAAS;IACtC,CAAC;IACD,MAAMC,UAAUA,CAACpB,EAAE,EAAE;MACjB,IAAIe,KAAI,GAAI,IAAI,CAACX,KAAK,CAACY,SAAS,CAACL,IAAG,IAAKA,IAAI,CAACX,EAAC,KAAMA,EAAE;MACvD,MAAMN,KAAK,CAAC2B,MAAM,CAAC1B,YAAW,GAAI,SAAQ,GAAIK,EAAE;MAChD,IAAI,CAACI,KAAK,CAACkB,MAAM,CAACP,KAAK,EAAE,CAAC;IAC9B,CAAC;IACDQ,SAASA,CAACvB,EAAE,EAAE;MACViB,OAAO,CAACC,GAAG,CAAClB,EAAE;IAClB,CAAC;IACD,MAAMwB,QAAQA,CAACxB,EAAE,EAAE;MACf,IAAIe,KAAI,GAAI,IAAI,CAACX,KAAK,CAACY,SAAS,CAACL,IAAG,IAAKA,IAAI,CAACX,EAAC,KAAMA,EAAE,CAAC;MACxDiB,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEH,KAAK;MAC1B,IAAI;QACA,MAAMT,QAAO,GAAI,MAAMZ,KAAK,CAACa,GAAG,CAACZ,YAAW,GAAI,SAAQ,GAAIK,EAAE;QAC9D,IAAI,CAACA,EAAC,GAAIM,QAAQ,CAACR,IAAI,CAACA,IAAI,CAACE,EAAC;QAC9B,IAAI,CAACC,KAAI,GAAIK,QAAQ,CAACR,IAAI,CAACA,IAAI,CAACG,KAAI;QACpC,IAAI,CAACE,OAAM,GAAIG,QAAQ,CAACR,IAAI,CAACA,IAAI,CAACK,OAAM;QACxC,IAAI,CAACD,UAAS,GAAI,WAAU;MAEhC,EAAE,OAAOM,CAAC,EAAE;QACRS,OAAO,CAACC,GAAG,CAACV,CAAC;MACjB;IACJ;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}